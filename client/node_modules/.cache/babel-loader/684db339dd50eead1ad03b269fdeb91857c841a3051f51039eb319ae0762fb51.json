{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createVNode as _createVNode, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-sm mt-3\"\n};\nconst _hoisted_2 = {\n  class: \"card\"\n};\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_DefaultNavbarComponent = _resolveComponent(\"DefaultNavbarComponent\");\n  const _component_LoggedNavbarComponent = _resolveComponent(\"LoggedNavbarComponent\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_FooterComponent = _resolveComponent(\"FooterComponent\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"header\", null, [_ctx.$route.path === '/login' || _ctx.$route.path === '/' || _ctx.$route.path === '/register' ? (_openBlock(), _createBlock(_component_DefaultNavbarComponent, {\n    key: 0\n  })) : (_openBlock(), _createBlock(_component_LoggedNavbarComponent, {\n    key: 1,\n    logout: $options.logout\n  }, null, 8 /* PROPS */, [\"logout\"]))]), _createElementVNode(\"main\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_view)])])])]), _createElementVNode(\"footer\", null, [_createVNode(_component_FooterComponent)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_ctx","$route","path","_createBlock","_component_DefaultNavbarComponent","key","_component_LoggedNavbarComponent","logout","$options","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_router_view","_component_FooterComponent"],"sources":["C:\\Users\\natha\\Desktop\\todo_gpt\\client\\src\\App.vue"],"sourcesContent":["<template>\n  <header>\n    <DefaultNavbarComponent v-if=\"$route.path === '/login' || $route.path === '/' || $route.path === '/register'\" />\n    <LoggedNavbarComponent v-else :logout=\"logout\" />\n  </header>\n  <main>\n    <div class=\"container-sm mt-3\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <router-view\n\n          />\n        </div>\n      </div>\n    </div>\n  </main>\n  <footer>\n    <FooterComponent />\n  </footer>\n</template>\n\n<script>\nimport DefaultNavbarComponent from '@/components/DefaultNavbarComponent.vue'\nimport LoggedNavbarComponent from '@/components/LoggedNavbarComponent.vue'\nimport { mapGetters } from 'vuex'\nimport UserDataService from '@/services/UserDataService'\nimport FooterComponent from '@/components/FooterComponent.vue'\nimport router from '@/routers'\n\nconst handleBeforeUnload = (event) => {\n  this.logout()\n}\nwindow.addEventListener('beforeunload', handleBeforeUnload);\n\nexport default {\n  name: 'App',\n  components: {\n    FooterComponent,\n    LoggedNavbarComponent,\n    DefaultNavbarComponent\n  },\n  props: {},\n  computed: {\n    ...mapGetters(['user'])\n  },\n  methods: {\n    logout () {\n      UserDataService.logout()\n        .then(response => {\n          this.$store.dispatch('user', null)\n          router.push('login')\n        })\n    }\n  },\n  beforeUnmount () {\n    window.removeEventListener('beforeunload', handleBeforeUnload)\n  },\n  created () {\n    UserDataService.getAuth()\n      .then(response => {\n        this.$store.dispatch('user', response.data)\n        console.log(response.data)\n        console.log(this.user)\n      })\n      .catch(e => {\n        this.$store.dispatch('user', null)\n        router.push({ path: 'login' })\n      })\n  }\n}\n</script>\n"],"mappings":";;EAMSA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAM;;EACVA,KAAK,EAAC;AAAW;;;;;;6DAP5BC,mBAAA,CAGS,iBAFuBC,IAAA,CAAAC,MAAM,CAACC,IAAI,iBAAiBF,IAAA,CAAAC,MAAM,CAACC,IAAI,YAAYF,IAAA,CAAAC,MAAM,CAACC,IAAI,oB,cAA5FC,YAAA,CAAgHC,iCAAA;IAAAC,GAAA;EAAA,O,cAChHF,YAAA,CAAiDG,gCAAA;;IAAlBC,MAAM,EAAEC,QAAA,CAAAD;0CAEzCR,mBAAA,CAUO,eATLA,mBAAA,CAQM,OARNU,UAQM,GAPJV,mBAAA,CAMM,OANNW,UAMM,GALJX,mBAAA,CAIM,OAJNY,UAIM,GAHJC,YAAA,CAEEC,sBAAA,E,SAKVd,mBAAA,CAES,iBADPa,YAAA,CAAmBE,0BAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}