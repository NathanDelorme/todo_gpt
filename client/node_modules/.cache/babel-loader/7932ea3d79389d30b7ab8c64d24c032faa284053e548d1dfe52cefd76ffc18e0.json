{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DefaultNavbarComponent from '@/components/DefaultNavbarComponent.vue';\nimport LoggedNavbarComponent from '@/components/LoggedNavbarComponent.vue';\nimport { mapGetters } from 'vuex';\nimport UserDataService from '@/services/UserDataService';\nimport FooterComponent from '@/components/FooterComponent.vue';\nimport router from '@/routers';\nexport default {\n  name: 'App',\n  components: {\n    FooterComponent,\n    LoggedNavbarComponent,\n    DefaultNavbarComponent\n  },\n  props: {},\n  computed: {\n    ...mapGetters(['user'])\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem('token');\n      UserDataService.getAuth().then(response => {\n        UserDataService.logout(this.user.token).then(response => {\n          this.$store.dispatch('user', null);\n          router.push('login');\n        });\n      }).catch(error => {\n        this.$store.dispatch('user', null);\n        if (error.response && error.response.data) {\n          console.log(error.response.data.message);\n        } else {\n          console.log('An error occurred while processing the request.');\n        }\n      });\n    }\n  },\n  created() {\n    if (localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined) {\n      console.log('nice' + this.user);\n      UserDataService.getAuth().then(response => {\n        this.$store.dispatch('user', response.data);\n        console.log(this.user);\n      }).catch(error => {\n        this.$store.dispatch('user', null);\n        if (error.response && error.response.data) {\n          console.log(error.response.data.message);\n        } else {\n          console.log('An error occurred while processing the request.');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["DefaultNavbarComponent","LoggedNavbarComponent","mapGetters","UserDataService","FooterComponent","router","name","components","props","computed","methods","logout","localStorage","removeItem","getAuth","then","response","user","token","$store","dispatch","push","catch","error","data","console","log","message","created","getItem","undefined"],"sources":["C:\\Users\\natha\\Desktop\\todo_gpt\\client\\src\\App.vue"],"sourcesContent":["<template>\n  <header>\n    <DefaultNavbarComponent v-if=\"$route.path === '/login' || $route.path === '/' || $route.path === '/register'\" />\n    <LoggedNavbarComponent v-else :logout=\"logout\" />\n  </header>\n  <main>\n    <div class=\"container-sm mt-3\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <router-view />\n        </div>\n      </div>\n    </div>\n  </main>\n  <footer>\n    <FooterComponent />\n  </footer>\n</template>\n\n<script>\nimport DefaultNavbarComponent from '@/components/DefaultNavbarComponent.vue'\nimport LoggedNavbarComponent from '@/components/LoggedNavbarComponent.vue'\nimport { mapGetters } from 'vuex'\nimport UserDataService from '@/services/UserDataService'\nimport FooterComponent from '@/components/FooterComponent.vue'\nimport router from '@/routers'\n\nexport default {\n  name: 'App',\n  components: {\n    FooterComponent,\n    LoggedNavbarComponent,\n    DefaultNavbarComponent\n  },\n  props: {},\n  computed: {\n    ...mapGetters(['user'])\n  },\n  methods: {\n    logout () {\n      localStorage.removeItem('token')\n      UserDataService.getAuth().then(response => {\n        UserDataService.logout(this.user.token).then(response => {\n          this.$store.dispatch('user', null)\n          router.push('login')\n        })\n      }).catch(error => {\n        this.$store.dispatch('user', null)\n        if (error.response && error.response.data) {\n          console.log(error.response.data.message)\n        } else {\n          console.log('An error occurred while processing the request.')\n        }\n      })\n    }\n  },\n  created () {\n    if (localStorage.getItem('token') !== null && localStorage.getItem('token') !== undefined) {\n      console.log('nice' + this.user)\n      UserDataService.getAuth().then(response => {\n        this.$store.dispatch('user', response.data)\n        console.log(this.user)\n      }).catch(error => {\n        this.$store.dispatch('user', null)\n        if (error.response && error.response.data) {\n          console.log(error.response.data.message)\n        } else {\n          console.log('An error occurred while processing the request.')\n        }\n      })\n    }\n  }\n}\n</script>\n"],"mappings":";AAoBA,OAAOA,sBAAqB,MAAO,yCAAwC;AAC3E,OAAOC,qBAAoB,MAAO,wCAAuC;AACzE,SAASC,UAAS,QAAS,MAAK;AAChC,OAAOC,eAAc,MAAO,4BAA2B;AACvD,OAAOC,eAAc,MAAO,kCAAiC;AAC7D,OAAOC,MAAK,MAAO,WAAU;AAE7B,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH,eAAe;IACfH,qBAAqB;IACrBD;EACF,CAAC;EACDQ,KAAK,EAAE,CAAC,CAAC;EACTC,QAAQ,EAAE;IACR,GAAGP,UAAU,CAAC,CAAC,MAAM,CAAC;EACxB,CAAC;EACDQ,OAAO,EAAE;IACPC,MAAKA,CAAA,EAAK;MACRC,YAAY,CAACC,UAAU,CAAC,OAAO;MAC/BV,eAAe,CAACW,OAAO,EAAE,CAACC,IAAI,CAACC,QAAO,IAAK;QACzCb,eAAe,CAACQ,MAAM,CAAC,IAAI,CAACM,IAAI,CAACC,KAAK,CAAC,CAACH,IAAI,CAACC,QAAO,IAAK;UACvD,IAAI,CAACG,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAE,IAAI;UACjCf,MAAM,CAACgB,IAAI,CAAC,OAAO;QACrB,CAAC;MACH,CAAC,CAAC,CAACC,KAAK,CAACC,KAAI,IAAK;QAChB,IAAI,CAACJ,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAE,IAAI;QACjC,IAAIG,KAAK,CAACP,QAAO,IAAKO,KAAK,CAACP,QAAQ,CAACQ,IAAI,EAAE;UACzCC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACP,QAAQ,CAACQ,IAAI,CAACG,OAAO;QACzC,OAAO;UACLF,OAAO,CAACC,GAAG,CAAC,iDAAiD;QAC/D;MACF,CAAC;IACH;EACF,CAAC;EACDE,OAAMA,CAAA,EAAK;IACT,IAAIhB,YAAY,CAACiB,OAAO,CAAC,OAAO,MAAM,IAAG,IAAKjB,YAAY,CAACiB,OAAO,CAAC,OAAO,MAAMC,SAAS,EAAE;MACzFL,OAAO,CAACC,GAAG,CAAC,MAAK,GAAI,IAAI,CAACT,IAAI;MAC9Bd,eAAe,CAACW,OAAO,EAAE,CAACC,IAAI,CAACC,QAAO,IAAK;QACzC,IAAI,CAACG,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAEJ,QAAQ,CAACQ,IAAI;QAC1CC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,IAAI;MACvB,CAAC,CAAC,CAACK,KAAK,CAACC,KAAI,IAAK;QAChB,IAAI,CAACJ,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAE,IAAI;QACjC,IAAIG,KAAK,CAACP,QAAO,IAAKO,KAAK,CAACP,QAAQ,CAACQ,IAAI,EAAE;UACzCC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACP,QAAQ,CAACQ,IAAI,CAACG,OAAO;QACzC,OAAO;UACLF,OAAO,CAACC,GAAG,CAAC,iDAAiD;QAC/D;MACF,CAAC;IACH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}