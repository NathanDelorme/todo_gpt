{"ast":null,"code":"import TaskDataService from '@/services/TaskDataService';\nexport default {\n  name: 'TaskComponent',\n  props: ['user', 'todolists', 'tasks', 'todolistId', 'id', 'isEditing'],\n  data() {\n    return {\n      task: this.tasks[this.todolistId].find(item => item.idTask === this.id),\n      localIsEditing: false\n    };\n  },\n  created() {},\n  methods: {\n    toggleEditing() {\n      this.localIsEditing = !this.localIsEditing;\n      if (!this.localIsEditing) {\n        this.updateTask();\n      }\n    },\n    updateTask() {\n      TaskDataService.update({\n        id: Number(this.id),\n        task: this.task\n      }).then(response => {});\n    },\n    deleteTask() {\n      this.$emit('delete-task', this.newTask);\n      TaskDataService.delete(Number(this.id)).then(response => {\n        TaskDataService.getAllOfTodolist(this.todolistId).then(response => {\n          this.$store.dispatch('tasks', {\n            tasks: response.data.tasks,\n            idTodolist: this.todolistId\n          });\n        });\n      });\n    }\n  }\n};","map":{"version":3,"names":["TaskDataService","name","props","data","task","tasks","todolistId","find","item","idTask","id","localIsEditing","created","methods","toggleEditing","updateTask","update","Number","then","response","deleteTask","$emit","newTask","delete","getAllOfTodolist","$store","dispatch","idTodolist"],"sources":["C:\\Users\\natha\\Desktop\\todo_gpt\\client\\src\\components\\TaskComponent.vue"],"sourcesContent":["<template>\r\n  <li class=\"list-group-item\">\r\n    <div class=\"d-flex align-items-center justify-content-between\">\r\n      <div class=\"form-check\">\r\n        <input class=\"form-check-input\" type=\"checkbox\" v-model=\"task.isFinished\" @change=\"updateTask\">\r\n        <label class=\"form-check-label\" v-bind:class=\"{'text-decoration-line-through': task.isFinished}\" v-if=\"!this.localIsEditing\">{{ task.title }}</label>\r\n        <input type=\"text\" class=\"form-control\" v-model=\"task.title\" v-if=\"this.localIsEditing\" v-on:keyup.enter=\"this.localIsEditing = false\">\r\n      </div>\r\n      <div>\r\n        <select class=\"form-select form-select-sm\" v-model.number=\"task.priority\" v-bind:disabled=\"!this.localIsEditing\" @change=\"updateTask\">\r\n          <option value=\"2\">Urgent</option>\r\n          <option value=\"1\">Important</option>\r\n          <option value=\"0\">Not important</option>\r\n        </select>\r\n        <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"toggleEditing\">{{ this.localIsEditing ? 'Save' : 'Modify' }}</button>\r\n        <button type=\"button\" class=\"btn btn-danger\" v-on:click=\"deleteTask\">Remove</button>\r\n      </div>\r\n    </div>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nimport TaskDataService from '@/services/TaskDataService'\r\n\r\nexport default {\r\n  name: 'TaskComponent',\r\n  props: ['user', 'todolists', 'tasks', 'todolistId', 'id', 'isEditing'],\r\n  data () {\r\n    return {\r\n      task: this.tasks[this.todolistId].find(item => item.idTask === this.id),\r\n      localIsEditing: false\r\n    }\r\n  },\r\n  created () {\r\n  },\r\n  methods: {\r\n    toggleEditing () {\r\n      this.localIsEditing = !this.localIsEditing\r\n      if (!this.localIsEditing) {\r\n        this.updateTask()\r\n      }\r\n    },\r\n    updateTask () {\r\n      TaskDataService.update({ id: Number(this.id), task: this.task}).then(response => {})\r\n    },\r\n    deleteTask () {\r\n      this.$emit('delete-task', this.newTask)\r\n      TaskDataService.delete(Number(this.id)).then(response => {\r\n        TaskDataService.getAllOfTodolist(this.todolistId).then(response => {\r\n          this.$store.dispatch('tasks', {\r\n            tasks: response.data.tasks,\r\n            idTodolist: this.todolistId\r\n          })\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAsBA,OAAOA,eAAc,MAAO,4BAA2B;AAEvD,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,WAAW,CAAC;EACtEC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,IAAI,EAAE,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,UAAU,CAAC,CAACC,IAAI,CAACC,IAAG,IAAKA,IAAI,CAACC,MAAK,KAAM,IAAI,CAACC,EAAE,CAAC;MACvEC,cAAc,EAAE;IAClB;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK,CACX,CAAC;EACDC,OAAO,EAAE;IACPC,aAAYA,CAAA,EAAK;MACf,IAAI,CAACH,cAAa,GAAI,CAAC,IAAI,CAACA,cAAa;MACzC,IAAI,CAAC,IAAI,CAACA,cAAc,EAAE;QACxB,IAAI,CAACI,UAAU,EAAC;MAClB;IACF,CAAC;IACDA,UAASA,CAAA,EAAK;MACZf,eAAe,CAACgB,MAAM,CAAC;QAAEN,EAAE,EAAEO,MAAM,CAAC,IAAI,CAACP,EAAE,CAAC;QAAEN,IAAI,EAAE,IAAI,CAACA;MAAI,CAAC,CAAC,CAACc,IAAI,CAACC,QAAO,IAAK,CAAC,CAAC;IACrF,CAAC;IACDC,UAASA,CAAA,EAAK;MACZ,IAAI,CAACC,KAAK,CAAC,aAAa,EAAE,IAAI,CAACC,OAAO;MACtCtB,eAAe,CAACuB,MAAM,CAACN,MAAM,CAAC,IAAI,CAACP,EAAE,CAAC,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;QACvDnB,eAAe,CAACwB,gBAAgB,CAAC,IAAI,CAAClB,UAAU,CAAC,CAACY,IAAI,CAACC,QAAO,IAAK;UACjE,IAAI,CAACM,MAAM,CAACC,QAAQ,CAAC,OAAO,EAAE;YAC5BrB,KAAK,EAAEc,QAAQ,CAAChB,IAAI,CAACE,KAAK;YAC1BsB,UAAU,EAAE,IAAI,CAACrB;UACnB,CAAC;QACH,CAAC;MACH,CAAC;IACH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}