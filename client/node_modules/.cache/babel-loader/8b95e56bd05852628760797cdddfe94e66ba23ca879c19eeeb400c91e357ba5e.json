{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport DefaultNavbarComponent from '@/components/DefaultNavbarComponent.vue';\nimport LoggedNavbarComponent from '@/components/LoggedNavbarComponent.vue';\nimport { mapGetters } from 'vuex';\nimport UserDataService from '@/services/UserDataService';\nimport FooterComponent from '@/components/FooterComponent.vue';\nimport router from '@/routers';\nconst handleBeforeUnload = event => {\n  event.preventDefault();\n  this.logout();\n};\nwindow.addEventListener('beforeunload', handleBeforeUnload);\nexport default {\n  name: 'App',\n  components: {\n    FooterComponent,\n    LoggedNavbarComponent,\n    DefaultNavbarComponent\n  },\n  props: {},\n  computed: {\n    ...mapGetters(['user'])\n  },\n  methods: {\n    logout() {\n      UserDataService.logout().then(response => {\n        this.$store.dispatch('user', null);\n        router.push('login');\n      });\n    }\n  },\n  beforeUnmount() {\n    window.removeEventListener('beforeunload', handleBeforeUnload);\n  },\n  created() {\n    UserDataService.getAuth().then(response => {\n      this.$store.dispatch('user', response.data);\n      console.log(response.data);\n      console.log(this.user);\n    }).catch(e => {\n      this.$store.dispatch('user', null);\n      router.push({\n        path: 'login'\n      });\n    });\n  }\n};","map":{"version":3,"names":["DefaultNavbarComponent","LoggedNavbarComponent","mapGetters","UserDataService","FooterComponent","router","handleBeforeUnload","event","preventDefault","logout","window","addEventListener","name","components","props","computed","methods","then","response","$store","dispatch","push","beforeUnmount","removeEventListener","created","getAuth","data","console","log","user","catch","e","path"],"sources":["C:\\Users\\natha\\Desktop\\todo_gpt\\client\\src\\App.vue"],"sourcesContent":["<template>\n  <header>\n    <DefaultNavbarComponent v-if=\"$route.path === '/login' || $route.path === '/' || $route.path === '/register'\" />\n    <LoggedNavbarComponent v-else :logout=\"logout\" />\n  </header>\n  <main>\n    <div class=\"container-sm mt-3\">\n      <div class=\"card\">\n        <div class=\"card-body\">\n          <router-view\n\n          />\n        </div>\n      </div>\n    </div>\n  </main>\n  <footer>\n    <FooterComponent />\n  </footer>\n</template>\n\n<script>\nimport DefaultNavbarComponent from '@/components/DefaultNavbarComponent.vue'\nimport LoggedNavbarComponent from '@/components/LoggedNavbarComponent.vue'\nimport { mapGetters } from 'vuex'\nimport UserDataService from '@/services/UserDataService'\nimport FooterComponent from '@/components/FooterComponent.vue'\nimport router from '@/routers'\n\nconst handleBeforeUnload = (event) => {\n  event.preventDefault()\n  this.logout()\n}\nwindow.addEventListener('beforeunload', handleBeforeUnload)\n\nexport default {\n  name: 'App',\n  components: {\n    FooterComponent,\n    LoggedNavbarComponent,\n    DefaultNavbarComponent\n  },\n  props: {},\n  computed: {\n    ...mapGetters(['user'])\n  },\n  methods: {\n    logout () {\n      UserDataService.logout()\n        .then(response => {\n          this.$store.dispatch('user', null)\n          router.push('login')\n        })\n    }\n  },\n  beforeUnmount () {\n    window.removeEventListener('beforeunload', handleBeforeUnload)\n  },\n  created () {\n    UserDataService.getAuth()\n      .then(response => {\n        this.$store.dispatch('user', response.data)\n        console.log(response.data)\n        console.log(this.user)\n      })\n      .catch(e => {\n        this.$store.dispatch('user', null)\n        router.push({ path: 'login' })\n      })\n  }\n}\n</script>\n"],"mappings":";AAsBA,OAAOA,sBAAqB,MAAO,yCAAwC;AAC3E,OAAOC,qBAAoB,MAAO,wCAAuC;AACzE,SAASC,UAAS,QAAS,MAAK;AAChC,OAAOC,eAAc,MAAO,4BAA2B;AACvD,OAAOC,eAAc,MAAO,kCAAiC;AAC7D,OAAOC,MAAK,MAAO,WAAU;AAE7B,MAAMC,kBAAiB,GAAKC,KAAK,IAAK;EACpCA,KAAK,CAACC,cAAc,EAAC;EACrB,IAAI,CAACC,MAAM,EAAC;AACd;AACAC,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEL,kBAAkB;AAE1D,eAAe;EACbM,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVT,eAAe;IACfH,qBAAqB;IACrBD;EACF,CAAC;EACDc,KAAK,EAAE,CAAC,CAAC;EACTC,QAAQ,EAAE;IACR,GAAGb,UAAU,CAAC,CAAC,MAAM,CAAC;EACxB,CAAC;EACDc,OAAO,EAAE;IACPP,MAAKA,CAAA,EAAK;MACRN,eAAe,CAACM,MAAM,EAAC,CACpBQ,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAE,IAAI;QACjCf,MAAM,CAACgB,IAAI,CAAC,OAAO;MACrB,CAAC;IACL;EACF,CAAC;EACDC,aAAYA,CAAA,EAAK;IACfZ,MAAM,CAACa,mBAAmB,CAAC,cAAc,EAAEjB,kBAAkB;EAC/D,CAAC;EACDkB,OAAMA,CAAA,EAAK;IACTrB,eAAe,CAACsB,OAAO,EAAC,CACrBR,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAEF,QAAQ,CAACQ,IAAI;MAC1CC,OAAO,CAACC,GAAG,CAACV,QAAQ,CAACQ,IAAI;MACzBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,IAAI;IACvB,CAAC,EACAC,KAAK,CAACC,CAAA,IAAK;MACV,IAAI,CAACZ,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAE,IAAI;MACjCf,MAAM,CAACgB,IAAI,CAAC;QAAEW,IAAI,EAAE;MAAQ,CAAC;IAC/B,CAAC;EACL;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}