{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport UserDataService from '@/services/UserDataService';\nimport router from '@/routers';\nimport TodolistDataService from '@/services/TodolistDataService';\nimport TaskDataService from '@/services/TaskDataService';\nexport default {\n  name: 'LoginPage',\n  props: ['user', 'todolists'],\n  data() {\n    return {\n      userLog: {\n        email: '',\n        password: ''\n      },\n      errorOccurs: false,\n      errorMessage: ''\n    };\n  },\n  methods: {\n    login() {\n      UserDataService.postLogin(this.userLog).then(response => {\n        this.$store.dispatch('user', response.data.user);\n        TodolistDataService.getAllOfUser(response.data.user.idUser).then(response => {\n          this.$store.dispatch('todolists', response.data.todolists);\n          for (const todolist of response.data.todolists) {\n            TaskDataService.getAllOfTodolist(todolist.idTodolist).then(response => {\n              this.$store.dispatch('task[' + todolist.idTodolist + ']', response.data.tasks);\n              console.log(response.data);\n            });\n          }\n        }).catch(error => {\n          if (error.response && error.response.data) {\n            this.errorMessage = error.response.data.message;\n          } else {\n            this.errorMessage = 'An error occurred while processing the request.';\n          }\n          this.errorOccurs = true;\n        });\n        this.errorOccurs = false;\n        this.errorMessage = '';\n        router.push({\n          path: 'home'\n        });\n      }).catch(error => {\n        if (error.response && error.response.data) {\n          this.errorMessage = error.response.data.message;\n        } else {\n          this.errorMessage = 'An error occurred while processing the request.';\n        }\n        this.errorOccurs = true;\n      });\n    }\n  },\n  created() {\n    document.title = 'Todo GPT - Login';\n  }\n};","map":{"version":3,"names":["UserDataService","router","TodolistDataService","TaskDataService","name","props","data","userLog","email","password","errorOccurs","errorMessage","methods","login","postLogin","then","response","$store","dispatch","user","getAllOfUser","idUser","todolists","todolist","getAllOfTodolist","idTodolist","tasks","console","log","catch","error","message","push","path","created","document","title"],"sources":["C:\\Users\\natha\\Desktop\\todo_gpt\\client\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n  <h2 class=\"text-center mb-4\">Login</h2>\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-md-6\">\r\n      <form @submit.prevent=\"login\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email address</label>\r\n          <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"userLog.email\" placeholder=\"name@example.com\" required>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"password\" class=\"form-label\">Password</label>\r\n          <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"userLog.password\" placeholder=\"enter your password\" required>\r\n        </div>\r\n        <div class=\"d-grid\">\r\n          <button type=\"submit\" class=\"btn btn-primary\">Login</button>\r\n          <div v-if=\"errorOccurs\" class=\"text-danger\">{{ errorMessage }}</div>\r\n        </div>\r\n      </form>\r\n      <div class=\"text-center mt-3\">\r\n        <p>Don't have an account? <router-link to=\"/register\">Register here</router-link></p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserDataService from '@/services/UserDataService'\r\nimport router from '@/routers'\r\nimport TodolistDataService from '@/services/TodolistDataService'\r\nimport TaskDataService from '@/services/TaskDataService'\r\n\r\nexport default {\r\n  name: 'LoginPage',\r\n  props: ['user', 'todolists'],\r\n  data () {\r\n    return {\r\n      userLog: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      errorOccurs: false,\r\n      errorMessage: ''\r\n    }\r\n  },\r\n  methods: {\r\n    login () {\r\n      UserDataService.postLogin(this.userLog).then(response => {\r\n        this.$store.dispatch('user', response.data.user)\r\n\r\n        TodolistDataService.getAllOfUser(response.data.user.idUser).then(response => {\r\n          this.$store.dispatch('todolists', response.data.todolists)\r\n          for (const todolist of response.data.todolists) {\r\n            TaskDataService.getAllOfTodolist(todolist.idTodolist).then(response => {\r\n              this.$store.dispatch('task[' + todolist.idTodolist + ']', response.data.tasks)\r\n              console.log(response.data)\r\n            })\r\n          }\r\n        }).catch(error => {\r\n          if (error.response && error.response.data) {\r\n            this.errorMessage = error.response.data.message\r\n          } else {\r\n            this.errorMessage = 'An error occurred while processing the request.'\r\n          }\r\n          this.errorOccurs = true\r\n        })\r\n\r\n        this.errorOccurs = false\r\n        this.errorMessage = ''\r\n        router.push({ path: 'home' })\r\n      }).catch(error => {\r\n        if (error.response && error.response.data) {\r\n          this.errorMessage = error.response.data.message\r\n        } else {\r\n          this.errorMessage = 'An error occurred while processing the request.'\r\n        }\r\n        this.errorOccurs = true\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    document.title = 'Todo GPT - Login'\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AA0BA,OAAOA,eAAc,MAAO,4BAA2B;AACvD,OAAOC,MAAK,MAAO,WAAU;AAC7B,OAAOC,mBAAkB,MAAO,gCAA+B;AAC/D,OAAOC,eAAc,MAAO,4BAA2B;AAEvD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE,CAAC,MAAM,EAAE,WAAW,CAAC;EAC5BC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,OAAO,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ,CAAC;MACDC,WAAW,EAAE,KAAK;MAClBC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAIA,CAAA,EAAK;MACPb,eAAe,CAACc,SAAS,CAAC,IAAI,CAACP,OAAO,CAAC,CAACQ,IAAI,CAACC,QAAO,IAAK;QACvD,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,MAAM,EAAEF,QAAQ,CAACV,IAAI,CAACa,IAAI;QAE/CjB,mBAAmB,CAACkB,YAAY,CAACJ,QAAQ,CAACV,IAAI,CAACa,IAAI,CAACE,MAAM,CAAC,CAACN,IAAI,CAACC,QAAO,IAAK;UAC3E,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,WAAW,EAAEF,QAAQ,CAACV,IAAI,CAACgB,SAAS;UACzD,KAAK,MAAMC,QAAO,IAAKP,QAAQ,CAACV,IAAI,CAACgB,SAAS,EAAE;YAC9CnB,eAAe,CAACqB,gBAAgB,CAACD,QAAQ,CAACE,UAAU,CAAC,CAACV,IAAI,CAACC,QAAO,IAAK;cACrE,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,OAAM,GAAIK,QAAQ,CAACE,UAAS,GAAI,GAAG,EAAET,QAAQ,CAACV,IAAI,CAACoB,KAAK;cAC7EC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAACV,IAAI;YAC3B,CAAC;UACH;QACF,CAAC,CAAC,CAACuB,KAAK,CAACC,KAAI,IAAK;UAChB,IAAIA,KAAK,CAACd,QAAO,IAAKc,KAAK,CAACd,QAAQ,CAACV,IAAI,EAAE;YACzC,IAAI,CAACK,YAAW,GAAImB,KAAK,CAACd,QAAQ,CAACV,IAAI,CAACyB,OAAM;UAChD,OAAO;YACL,IAAI,CAACpB,YAAW,GAAI,iDAAgD;UACtE;UACA,IAAI,CAACD,WAAU,GAAI,IAAG;QACxB,CAAC;QAED,IAAI,CAACA,WAAU,GAAI,KAAI;QACvB,IAAI,CAACC,YAAW,GAAI,EAAC;QACrBV,MAAM,CAAC+B,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAO,CAAC;MAC9B,CAAC,CAAC,CAACJ,KAAK,CAACC,KAAI,IAAK;QAChB,IAAIA,KAAK,CAACd,QAAO,IAAKc,KAAK,CAACd,QAAQ,CAACV,IAAI,EAAE;UACzC,IAAI,CAACK,YAAW,GAAImB,KAAK,CAACd,QAAQ,CAACV,IAAI,CAACyB,OAAM;QAChD,OAAO;UACL,IAAI,CAACpB,YAAW,GAAI,iDAAgD;QACtE;QACA,IAAI,CAACD,WAAU,GAAI,IAAG;MACxB,CAAC;IACH;EACF,CAAC;EACDwB,OAAMA,CAAA,EAAK;IACTC,QAAQ,CAACC,KAAI,GAAI,kBAAiB;EACpC;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}